<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercícios 002 - Calculadora Formas</title>
  <link rel="stylesheet" href="../shared_assets/styles.css">
</head>

<body>
  <main>
    <h1>Calculadora Formas</h1>
    <section>
      <select id="forma" onchange="selecionaForma()">
        <option value="none" disabled selected>Escolha uma</option>
        <option value="circulo">Circulo</option>
        <option value="retangulo">Retângulo</option>
        <option value="trianguloRetangulo">Triângulo Retângulo</option>
        <option value="trianguloEquilatero">Triângulo Equilatero</option>
      </select>
      <!-- <input type="button" value="Selecionar" onclick="selecionaForma()"> -->

      <output id="containerInputs">
        <!-- container que ira receber as inputs -->
      </output>

      <output id="resultadoCalculos">
        <!-- aqui vai entrar o resultado final dos calculos das respectivas areas -->
      </output>
    </section>
  </main>

  <script>
    //seleciona e salva ref aos elementos da pagina que serao manipulados
    const containerInputs = document.getElementById('containerInputs')
    const saida = document.getElementById('resultadoCalculos')

    //object literal definem a estrutura dos inputs referentes a cada forma que sera calculada
    const formas = {
      circulo: `
        <div id="circulo">
          <input type="number" id="raio" placeholder="Medida do raio" step="0.1">
          <input type="button" value="Calcular" onclick="calcAreaCirculo()">
        </div>
      `,
      retangulo: `
        <div id="retangulo">
          <input type="number" id="retBase" placeholder="Medida da Base do Retângulo" step="0.1">
          <input type="number" id="retAltura" placeholder="Medida da Altura do Retângulo" step="0.1">
          <input type="button" value="Calcular" onclick="calcAreaRetangulo()">
        </div>
      `,
      trianguloRetangulo: `
        <div id="trianguloRetangulo">
          <input type="number" id="trianguloRetanguloBase" placeholder="Medida da Base do Triângulo" step="0.0">
          <input type="number" id="trianguloRetanguloAltura" placeholder="Medida da Altura do Triângulo" step="0.1">
          <input type="button" value="Calcular" onclick="calcAreaTrianguloRet()">
        </div>
      `,
      trianguloEquilatero: `
        <div id="trianguloEquilatero">
          <input type="number" id="trianguloLado" placeholder="Medida do Lado do Triângulo" step="0.1">
          <input type="button" value="Calcular" onclick="calcAreaTrianguloEqui()">
        </div>
      `,
      none: 'Não foi selecionada nenhuma forma'
    }

    function selecionaForma() {
      const formaSelecionada = document.getElementById('forma').value
      // console.log(formaSelecionada);

      //usando como chave o value extraido do input select seleciona o respectivo form ref a forma selecionada e insere dentro do campo html output
      containerInputs.innerHTML = formas[formaSelecionada]

      // limpa resultados anteriores pra não causar confusão
      saida.value = ""
    }

    function calcAreaCirculo() {
      const raio = document.getElementById('raio').value
      const area = Math.PI * (raio * raio)

      saida.value = area.toFixed(2)
    }

    function calcAreaRetangulo() {
      const retBase = document.getElementById('retBase').value
      const retAltura = document.getElementById('retAltura').value
      const area = retBase * retAltura

      saida.value = area.toFixed(2)
    }

    function calcAreaTrianguloRet() {
      const trianguloRetanguloBase = document.getElementById('trianguloRetanguloBase').value
      const trianguloRetanguloAltura = document.getElementById('trianguloRetanguloAltura').value
      const area = (trianguloRetanguloBase * trianguloRetanguloAltura) / 2

      saida.value = area.toFixed(2)
    }

    function calcAreaTrianguloEqui() {
      const trianguloLado = document.getElementById('trianguloLado').value
      const area = (trianguloLado * trianguloLado) * Math.sqrt(3) / 4

      saida.value = area.toFixed(2)
    }
  </script>
</body>

</html>